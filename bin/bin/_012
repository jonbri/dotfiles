#!/bin/bash

count=`012 $@ --count`

hasNArg=false
for arg in "$@"; do
  if [ "$arg" == "-n" ] || [ "$arg" == "--nth" ]; then
    hasNArg=true
    break
  fi
done

if [ $count -eq 0 ]; then
  echo 'no matches'
elif [ $count -eq 1 ] || [ $hasNArg == true ]; then
  eval "cd `012 $@`"
  persona --become --quiet
else
  clear
  BASE=`012 --base $@`
  slow "${BASE}" -d 0.02
  results=`012 $@ --list`
  echo $results | tr ' ' '\n'
  eval "cd $BASE"
fi

