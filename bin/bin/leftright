#!/bin/bash

if [[ ! `isgit` = "true" ]]; then
    exit 1
fi

BRANCH=`git rev-parse --abbrev-ref HEAD`;
if ! git rev-parse origin/$BRANCH >/dev/null 2>&1
then
    echo "n-x"
    exit 0
fi

MAIN=`main`
DISTANCE=$(git rev-list --count origin/$MAIN..HEAD)

LEFT_RIGHT=`git rev-list --left-right --count HEAD...origin/$BRANCH | awk -e '{ print $1"-"$2 }'`
echo ${LEFT_RIGHT}-${DISTANCE}

